plugins {
    id 'groovy'
    id 'java'
    id "checkstyle"
    id 'jacoco'
    id 'application'
    id "org.kordamp.gradle.project-enforcer" version "0.10.0"
}

allprojects {

    checkstyle {
        toolVersion = "10.3.4"
        configFile = "gradle/checkstyle.xml" as File
        checkstyleTest.enabled = false
    }

    enforce {
        rule(enforcer.rules.EnforceBytecodeVersion) { r ->
            r.maxJdkVersion = "17"

        }
    }

    repositories {
        mavenCentral()
    }

}

application {
    mainClass = 'org.shadows.Bootstrap'
}

dependencies {

    implementation 'com.github.pengrad:java-telegram-bot-api:6.6.0'
    implementation 'com.theokanning.openai-gpt3-java:service:0.12.0'
    implementation 'org.slf4j:slf4j-log4j12:2.0.7'

    compileOnly "org.projectlombok:lombok:1.18.20"
    annotationProcessor "org.projectlombok:lombok:1.18.20"

    testImplementation "org.spockframework:spock-core:1.3-groovy-2.4"
    testImplementation 'org.skyscreamer:jsonassert:1.5.0'

}
